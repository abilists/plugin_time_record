<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.abilists.plugins.timerecord.dao.MTimeRecordDao">

	<insert id="istMTimeRecord" parameterType="map">
		INSERT INTO user_time_record (
		  	utr_kind,
		  	utr_month,
		  	utr_day,
		  	utr_standard_ampm,
		  	utr_standard_hour,
		  	utr_start_time,
		  	utr_end_time,
		  	utr_work_hour,
		  	utr_comment,
		  	utr_permit,
		  	utr_status,
		  	utr_delete,
		  	user_id,
			insert_time,
			update_time
		) VALUES (
			#{utrKind},
			#{utrMonth},
			#{utrDay},
			#{utrStandardAmpm},
			#{utrStandardHour},
			#{utrStartTime},
			#{utrEndTime},
			#{utrWorkHour},
			#{utrComment},
			'0',
			'0',
			'0',
			#{userId},
			now(),
			now()
		)
	</insert>

	<update id="udtMTimeRecord" parameterType="map">
		UPDATE 
			user_time_record
		SET
		  	utr_kind = #{utrKind},
		  	utr_month = #{utrMonth},
		  	utr_day = #{utrDay},
		  	utr_standard_ampm = #{utrStandardAmpm},
		  	utr_standard_hour = #{utrStandardHour},
		  	utr_start_time = #{utrStartTime},
		  	utr_end_time = #{utrEndTime},
		  	utr_work_hour = #{utrWorkHour},
		  	utr_comment = #{utrComment},
		  	utr_permit = #{utrPermit},
		  	utr_status = #{utrStatus},
			update_time = now()
		WHERE
			utr_no = #{utrNo}
	</update>

	<update id="dltMTimeRecord" parameterType="map">
		UPDATE 
			user_time_record
		SET
			utr_delete = #{utrDelete},
			update_time = now()
		WHERE
			utr_no = #{utrNo}
	</update>

</mapper>